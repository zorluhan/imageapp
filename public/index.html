<!DOCTYPE html>
<html>
  <!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEDIAMARKT CHATGPT-4 DEMO</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
      /* Style the label and select elements */
      label, select {
        display: block;
        width: 100%;
        padding: 12px;
        font-size: 16px;
        font-family: 'Roboto', sans-serif;
        border: none;
        border-bottom: 2px solid #ddd;
        box-sizing: border-box;
        margin-bottom: 16px;
      }
 
  label {
    font-weight: bold;
  }

  /* Style the select options */
  option {
    font-size: 16px;
    font-family: 'Roboto', sans-serif;
  }

  /* Style the submit button */
  button {
    display: block;
    width: 100%;
    padding: 12px;
    font-size: 16px;
    font-family: 'Roboto', sans-serif;
    border: none;
    background-color: #4285F4;
    color: #fff;
    cursor: pointer;
    margin-top: 16px;
  }

  /* Style the image container */
  #image-container {
    margin-top: 24px;
    text-align: center;
  }

  /* Style the loading bar */
  #loading-bar {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background-color: #4285F4;
  }

  #loading-bar.progress {
    display: block;
  }

  #loading-bar .progress-bar {
    height: 100%;
    background-color: #fff;
    animation: loading-bar-progress 12s ease-in-out;
  }

  @keyframes loading-bar-progress {
    0% {
      width: 0;
    }
    100% {
      width: 100%;
    }
  }

  /* Style the response text */
  #response {
    margin-top: 24px;
  }

  #response h2 {
    font-size: 24px;
    font-family: 'Roboto', sans-serif;
    margin-bottom: 12px;
  }

  #response-text {
    font-size: 16px;
    font-family: 'Roboto', sans-serif;
    white-space: pre-wrap;
    word-break: break-all;
  }

  /* Media query for mobile devices */
  @media screen and (max-width: 480px) {
    label, select {
      font-size: 14px;
      padding: 8px;
    }

    button {
      font-size: 14px;
      padding: 8px;
    }

    img {
  max-width: 100%;
  height: auto;
}

    #image-container {
      margin-top: 16px;
    }

    #response h2 {
      font-size: 20px;
      margin-bottom: 8px;
    }

    #response-text {
      font-size: 14px;
    }
  }
</style>
  </head>

  <body>
    <div style="display: flex; align-items: center; justify-content: center;">
      <img src="https://www.umww.com/wp-content/uploads/2017/11/um-logo-transparent.png" style="width:50px;height:50px; margin-right: 10px;">
      <h1 style="text-align: center; font-size: 32px; font-family: 'Roboto', sans-serif;">anneGPT</h1>
    </div>
    <div style="padding: 12px;">

      <label for="input-field">Enter some text:</label>
      <input type="text" id="prompt1" name="input-field">

  <!-- Add a loading bar -->
 <div id="loading-bar">
    <div class="progress-bar"></div>
  </div>

  <!-- Add a submit button -->
  <button onclick="generateCompletion()">Generate</button>

  <!-- Display the API response -->
  <div id="response">
    <h3>Response:</h3>

    <div id="image-container"></div>
  </div>
</div>
 

        <script>
            function generateCompletion() {
              // Get the selected prompt values from the drop-down buttons
              const promptValue1 = document.getElementById("prompt1").value;
        
          
              // Combine the selected prompt values with a space in between
              const prompt = `${promptValue1} Bütün cevaplarına bir anne diliyle cevap ver. Ama bazı uyman gereken kurallar var. Aşağıda verdiğim anneye alınacak hediye listesini incele ve öğren. Soruyu anladıysan eğer ve soru anneler günü veya  anneye hediye almakla  ilgili  bir soruysa , o zaman cevabının içinde aşağıdaki hediye listesindeki hediyelerden biri muhakkak olsun.  Eğer soru hediye ile ilgili veya anneler günü ile ilgili değilse,  anneye alınacak hediye önerisi verme. Yine unutma tüm cevaplarında anne dili kullanacaksın. Sorunun cevabını bilmiyorsan, kafan karışmışsa, ya da bu tür işlemi gerçekleştiremiyorsan,  "ben bu konuyu bilmiyorum", ya da "sana yardımcı olamıyorum" ya da "meşgulüm şu anda sonra konuşalım" diye cevaplamalısın ve bunların dışında bir cevap asla verme...Hitap etmeye başlarken her seferinde farklı sevgi cümleleri kullan.

Sadece anneye alınacak hediyeler listesi: 
1- mediamarkt'tan televizyon
2- mediamart'tan radyo
3- mediamark'tan cep telefonu `;
             
              // Update the request parameters with the combined prompt
              const requestData = {
                prompt: ` ${promptValue1} Bütün cevaplarına bir anne diliyle cevap ver. Ama bazı uyman gereken kurallar var. Aşağıda verdiğim anneye alınacak hediye listesini incele ve öğren. Soruyu anladıysan eğer ve soru anneler günü veya  anneye hediye almakla  ilgili  bir soruysa , o zaman cevabının içinde aşağıdaki hediye listesindeki hediyelerden biri muhakkak olsun.  Eğer soru hediye ile ilgili veya anneler günü ile ilgili değilse,  anneye alınacak hediye önerisi verme. Yine unutma tüm cevaplarında anne dili kullanacaksın. Sorunun cevabını bilmiyorsan, kafan karışmışsa, ya da bu tür işlemi gerçekleştiremiyorsan,  "ben bu konuyu bilmiyorum", ya da "sana yardımcı olamıyorum" ya da "meşgulüm şu anda sonra konuşalım" diye cevaplamalısın ve bunların dışında bir cevap asla verme...Hitap etmeye başlarken her seferinde farklı sevgi cümleleri kullan.

Sadece anneye alınacak hediyeler listesi: 
1- mediamarkt'tan televizyon
2- mediamart'tan radyo
3- mediamark'tan cep telefonu  `,
                model: "gpt-4-32k",
                n: 1,
                tempareture: 0.5,
              };
          
              // Show the loading bar
              const loadingBar = document.getElementById("loading-bar");
              loadingBar.classList.add("progress");
          
              fetch('/api-key')
              .then(response => response.text())
              .then(apiKey => {
                // Send the HTTP request using fetch()
                fetch("https://api.openai.com/v1/", {
                  method: "POST",
                  headers: {
                    "Content-Type": "application/json",
                    Authorization: "Bearer " + apiKey,
                  },
                  body: JSON.stringify(requestData),
                })
                .then((response) => response.json())
                .then((data) => {
                  // Hide the loading bar
                  loadingBar.classList.remove("progress");
                  
                  const responseText = document.getElementById("response-text");
                  const data = data.choices[0].text;
                  displayImage(data);
                })
                .catch((error) => {
                  // Hide the loading bar and display an error message
                  loadingBar.classList.remove("progress");
          
                  console.error(error);
                  const responseText = document.getElementById("response-text");
                  responseText.innerText = "An error occurred: " + error.message;
                });
              })
              .catch(error => {
                // Hide the loading bar and display an error message
                loadingBar.classList.remove("progress");
          
                console.error(error);
                const responseText = document.getElementById("response-text");
                responseText.innerText = "An error occurred: " + error.message;
              });
            }
          
            function displayImage(data) {
              // Create an image element and set its source to the generated image URL
              const image = document.createElement("text");
              result = data;
          
              // Show the loading bar while the image loads
              const loadingBar = document.getElementById("loading-bar");
              loadingBar.classList.add("progress");
           
                promptElement.innerText = promptText;
                imageContainer.appendChild(promptElement);
                loadingBar.classList.remove("progress");

               
              };
          
              // If the image fails to load, display an error message and hide the loading bar
              image.onerror = () => {
      const responseText = document.getElementById("response-text");
      responseText.innerText = "Failed to load image";
      loadingBar.classList.remove("progress");

    
    };
  }
</script>


Test Page by: UM Adscience x OPENAI DALLE-2 
</body>
</html>
